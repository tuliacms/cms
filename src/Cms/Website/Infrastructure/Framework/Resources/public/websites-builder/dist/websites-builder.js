var TuliaWebsiteBuilder;(()=>{"use strict";var e={744:(e,t)=>{t.Z=(e,t)=>{const l=e.__vccOpts||e;for(const[e,a]of t)l[e]=a;return l}},501:(e,t,l)=>{l.d(t,{Z:()=>i});var a=l(311);const o=["action"],n=["value"],s=["name","value"],i={__name:"ActionForm",props:["endpoint"],setup(e,{expose:t}){const i=l(514),{defineProps:r,defineExpose:c,ref:d,reactive:m}=l(311),p=m({list:[]}),u=d(null);return t({submit:e=>{p.list=e,i.PageLoader.show(),setTimeout((()=>u.value.submit()),300)}}),(t,l)=>((0,a.openBlock)(),(0,a.createElementBlock)("form",{action:e.endpoint.url,method:"post",ref_key:"form",ref:u},[(0,a.createElementVNode)("input",{type:"hidden",value:e.endpoint.csrfToken,name:"_token"},null,8,n),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(p.list,((e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)("input",{type:"hidden",name:t,value:e},null,8,s)))),256))],8,o))}}},151:(e,t,l)=>{l.d(t,{Z:()=>K});var a=l(311);const o=e=>((0,a.pushScopeId)("data-v-6f16c252"),e=e(),(0,a.popScopeId)(),e),n={class:"pane pane-lead"},s={class:"pane-header"},i={class:"pane-buttons"},r=o((()=>(0,a.createElementVNode)("i",{class:"btn-icon fas fa-plus"},null,-1))),c=o((()=>(0,a.createElementVNode)("i",{class:"pane-header-icon fas fa-globe"},null,-1))),d={class:"pane-title"},m={class:"pane-body"},p={class:"alert alert-info"},u={class:"row row-cols-1 row-cols-sm-1 row-cols-md-2 row-cols-lg-2 row-cols-xl-3 websites-list"},v={class:"col mb-4"},f={class:"card"},b={class:"card-body"},V=["title"],E={class:"card-title mb-1"},N=["href"],k={class:"text-muted d-block mt-3"},h={class:"list-group list-group-flush"},w={class:"list-group-item pe-1"},y={class:"locale-info d-flex justify-content-between align-items-center"},g=["src"],x={key:0},D={key:1},S={key:2,class:"text-lowercase"},B={key:0,class:"form-check form-switch d-inline"},C=["onChange","title"],_={key:1,class:"form-check form-switch d-inline"},M=["onChange","title"],L=["onClick","title"],P=[o((()=>(0,a.createElementVNode)("i",{class:"btn-icon fa fa-trash"},null,-1)))],T={key:3,class:"d-inline-block"},O=[o((()=>(0,a.createElementVNode)("a",{href:"#",disabled:"disabled",class:"btn btn-sm btn-icon-only btn-outline-danger disabled me-2"},[(0,a.createElementVNode)("i",{class:"btn-icon fa fa-trash"})],-1)))],H=["href"],U=["title","onClick"],F=o((()=>(0,a.createElementVNode)("i",{class:"list-group-item-icon fa fa-plus"},null,-1))),W={class:"card-footer d-flex align-items-center pe-1"},Z={class:"me-2"},R={key:0,class:"form-check form-switch d-inline"},z=["onChange","title"],I={key:1,class:"form-check form-switch d-inline"},A=["onChange","title"],j=["onClick","title"],$=[o((()=>(0,a.createElementVNode)("i",{class:"btn-icon fa fa-trash"},null,-1)))],J={key:3,class:"d-inline-block me-2 mx-auto"},q=[o((()=>(0,a.createElementVNode)("a",{href:"#",disabled:"disabled",class:"btn btn-sm btn-icon-only btn-outline-danger disabled"},[(0,a.createElementVNode)("i",{class:"btn-icon fa fa-trash"})],-1)))],G={__name:"Root",props:["websites","translations","locales","endpoints"],setup(e){const t=e,o=l(290).Z,G=l(445).Z,K=l(501).Z,{defineProps:Q,computed:X,reactive:Y,ref:ee}=l(311),te=l(514),le=ee(null),ae=ee(null),oe=ee(null),ne=ee(null),se=ee(null),ie=ee(null),re=ee(null),ce=ee(null),de=()=>ae.value.show(),me=e=>le.value.show(e),pe=()=>{de()},ue=(e,l)=>{for(let a=0;a<t.locales.length;a++)if(t.locales[a].code===e)return t.locales[a][l];return""};return(t,l)=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",s,[(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("a",{href:"#",class:"btn btn-success btn-icon-left",onClick:pe},[r,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.translations.create),1)])]),c,(0,a.createElementVNode)("h1",d,(0,a.toDisplayString)(e.translations.websites),1)]),(0,a.createElementVNode)("div",m,[(0,a.createElementVNode)("div",p,(0,a.toDisplayString)(e.translations.websitesLongDescription),1),(0,a.createElementVNode)("div",u,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.websites,(t=>((0,a.openBlock)(),(0,a.createElementBlock)("div",v,[(0,a.createElementVNode)("div",f,[(0,a.createElementVNode)("div",b,[!1===t.enabled?((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:0,"data-bs-toggle":"tooltip",title:e.translations.websiteInactiveHint,class:"badge badge-secondary mb-3"},(0,a.toDisplayString)(e.translations.websiteInactive),9,V)):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("h4",E,(0,a.toDisplayString)(t.name),1),(0,a.createElementVNode)("a",{href:t.address},(0,a.toDisplayString)(t.address),9,N),(0,a.createElementVNode)("small",k,"ID: "+(0,a.toDisplayString)(t.id),1)]),(0,a.createElementVNode)("div",h,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(t.locales,(l=>((0,a.openBlock)(),(0,a.createElementBlock)("div",w,[(0,a.createElementVNode)("div",y,[(0,a.createElementVNode)("div",null,[(0,a.createElementVNode)("img",{src:ue(l.code,"flag"),alt:"",class:"website-locale-flag-icon"},null,8,g),l.is_default?((0,a.openBlock)(),(0,a.createElementBlock)("span",x,[(0,a.createElementVNode)("b",null,(0,a.toDisplayString)(ue(l.code,"name")),1)])):((0,a.openBlock)(),(0,a.createElementBlock)("span",D,(0,a.toDisplayString)(ue(l.code,"name")),1)),l.is_default?((0,a.openBlock)(),(0,a.createElementBlock)("small",S,"Â ("+(0,a.toDisplayString)(e.translations.defaultLocale)+")",1)):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("div",null,[l.enabled?((0,a.openBlock)(),(0,a.createElementBlock)("div",B,[(0,a.createElementVNode)("input",{class:"form-check-input",type:"checkbox",role:"switch",onChange:e=>e.target.setAttribute("disabled","disabled")||((e,t)=>{ce.value.submit({website:e,code:t})})(t.id,l.code),title:e.translations.deactivate,"data-bs-toggle":"tooltip",checked:""},null,40,C)])):(0,a.createCommentVNode)("v-if",!0),l.enabled?(0,a.createCommentVNode)("v-if",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",_,[(0,a.createElementVNode)("input",{class:"form-check-input",type:"checkbox",role:"switch",onChange:e=>e.target.setAttribute("disabled","disabled")||((e,t)=>{re.value.submit({website:e,code:t})})(t.id,l.code),title:e.translations.activate,"data-bs-toggle":"tooltip"},null,40,M)])),l.is_default||l.is_current?(0,a.createCommentVNode)("v-if",!0):((0,a.openBlock)(),(0,a.createElementBlock)("a",{key:2,href:"#",onClick:e=>((e,t)=>{te.Confirmation.critical().then((l=>{l.value&&ie.value.submit({website:e,locale:t,password:l.password})}))})(t.id,l.code),title:e.translations.deleteLocale,"data-bs-toggle":"tooltip",class:"btn btn-sm btn-icon-only btn-outline-danger me-2"},P,8,L)),l.is_default||l.is_current?((0,a.openBlock)(),(0,a.createElementBlock)("span",T,O)):(0,a.createCommentVNode)("v-if",!0)])]),(0,a.createElementVNode)("a",{href:l.address,target:"_blank",class:"locale-address"},(0,a.toDisplayString)(l.address),9,H)])))),256)),(0,a.createElementVNode)("a",{href:"#",class:"list-group-item list-group-item-with-icon","data-bs-toggle":"tooltip","data-bs-placement":"right",title:e.translations.addLocale,onClick:e=>(e=>{me(e)})(t)},[F,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.translations.addLocale),1)],8,U)]),(0,a.createElementVNode)("div",W,[(0,a.createElementVNode)("span",Z,(0,a.toDisplayString)(e.translations.activity),1),t.enabled?((0,a.openBlock)(),(0,a.createElementBlock)("div",R,[(0,a.createElementVNode)("input",{class:"form-check-input",type:"checkbox",role:"switch",onChange:e=>{return e.target.setAttribute("disabled","disabled")||(l=t.id,void ne.value.submit({id:l}));var l},title:e.translations.deactivate,"data-bs-toggle":"tooltip",checked:""},null,40,z)])):(0,a.createCommentVNode)("v-if",!0),t.enabled?(0,a.createCommentVNode)("v-if",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",I,[(0,a.createElementVNode)("input",{class:"form-check-input",type:"checkbox",role:"switch",onChange:e=>{return e.target.setAttribute("disabled","disabled")||(l=t.id,void oe.value.submit({id:l}));var l},title:e.translations.activate,"data-bs-toggle":"tooltip"},null,40,A)])),t.is_current?(0,a.createCommentVNode)("v-if",!0):((0,a.openBlock)(),(0,a.createElementBlock)("a",{key:2,href:"#",onClick:e=>{return l=t.id,void te.Confirmation.critical().then((e=>{e.value&&se.value.submit({id:l,password:e.password})}));var l},title:e.translations.deleteWebsite,"data-bs-toggle":"tooltip",class:"btn btn-sm btn-icon-only btn-outline-danger me-2 mx-auto"},$,8,j)),t.is_current?((0,a.openBlock)(),(0,a.createElementBlock)("span",J,q)):(0,a.createCommentVNode)("v-if",!0)])])])))),256))])])]),(0,a.createVNode)((0,a.unref)(o),{translations:e.translations,locales:e.locales,endpoint:e.endpoints.newWebsite,ref_key:"newWebsiteModal",ref:ae},null,8,["translations","locales","endpoint"]),(0,a.createVNode)((0,a.unref)(G),{translations:e.translations,locales:e.locales,endpoint:e.endpoints.newLocale,ref_key:"newLocaleModal",ref:le},null,8,["translations","locales","endpoint"]),(0,a.createVNode)((0,a.unref)(K),{endpoint:e.endpoints.activateWebsite,ref_key:"activateWebsiteForm",ref:oe},null,8,["endpoint"]),(0,a.createVNode)((0,a.unref)(K),{endpoint:e.endpoints.deactivateWebsite,ref_key:"deactivateWebsiteForm",ref:ne},null,8,["endpoint"]),(0,a.createVNode)((0,a.unref)(K),{endpoint:e.endpoints.activateLocale,ref_key:"activateLocaleForm",ref:re},null,8,["endpoint"]),(0,a.createVNode)((0,a.unref)(K),{endpoint:e.endpoints.deactivateLocale,ref_key:"deactivateLocaleForm",ref:ce},null,8,["endpoint"]),(0,a.createVNode)((0,a.unref)(K),{endpoint:e.endpoints.deleteWebsite,ref_key:"deleteWebsiteForm",ref:se},null,8,["endpoint"]),(0,a.createVNode)((0,a.unref)(K),{endpoint:e.endpoints.deleteLocale,ref_key:"deleteLocaleForm",ref:ie},null,8,["endpoint"])],64))}},K=(0,l(744).Z)(G,[["__scopeId","data-v-6f16c252"]])},65:(e,t,l)=>{l.d(t,{Z:()=>u});var a=l(311);const o=e=>((0,a.pushScopeId)("data-v-b738adb4"),e=e(),(0,a.popScopeId)(),e),n={class:"modal-content"},s={class:"modal-header"},i={class:"modal-title"},r=o((()=>(0,a.createElementVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))),c={class:"modal-body"},d={class:"modal-footer"},m=o((()=>(0,a.createElementVNode)("div",{class:"loader"},[(0,a.createElementVNode)("div",{class:"load-inner"},[(0,a.createElementVNode)("div",{class:"spinner-border",role:"status",style:{width:"3rem",height:"3rem"}},[(0,a.createElementVNode)("span",{class:"visually-hidden"},"Loading...")])])],-1))),p={__name:"Modal",props:{title:{type:String,default:"<<Title goes here>>"},modificators:{type:String,default:"modal-dialog-centered"}},setup(e,{expose:t}){const o=e,{onMounted:p,ref:u,defineProps:v,defineExpose:f,computed:b}=l(311),{Modal:V}=l(685);let E=u(null),N=null;const k=b((()=>"modal-dialog "+o.modificators));return p((()=>{N=new V(E.value)})),t({show:function(){N.show()},hide:function(){N.hide()},showLoader:function(){E.value.classList.add("modal-loading")},hideLoader:function(){E.value.classList.remove("modal-loading")}}),(t,l)=>((0,a.openBlock)(),(0,a.createBlock)(a.Teleport,{to:"body"},[(0,a.createElementVNode)("div",{class:"modal fade","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"","aria-hidden":"true",ref_key:"modalElement",ref:E},[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)((0,a.unref)(k))},[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",s,[(0,a.createElementVNode)("h5",i,(0,a.toDisplayString)(e.title),1),r]),(0,a.createElementVNode)("div",c,[(0,a.renderSlot)(t.$slots,"body")]),(0,a.createElementVNode)("div",d,[(0,a.renderSlot)(t.$slots,"footer")]),m])],2)],512)]))}},u=(0,l(744).Z)(p,[["__scopeId","data-v-b738adb4"]])},445:(e,t,l)=>{l.d(t,{Z:()=>J});var a=l(311);const o={class:"row"},n={class:"col"},s={class:"mb-3"},i={for:"new-locale-code",class:"form-label"},r=(0,a.createElementVNode)("option",{value:""},"---",-1),c=["value"],d={key:0,class:"invalid-feedback"},m={class:"accordion",id:"accordion-new-locale"},p={class:"accordion-item"},u={class:"accordion-header"},v={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"},f={id:"collapseOne",class:"accordion-collapse collapse","data-bs-parent":"#accordion-new-locale"},b={class:"accordion-body"},V={class:"row"},E={class:"col-6"},N={class:"mb-3"},k={for:"new-locale-backend-prefix",class:"form-label"},h=(0,a.createElementVNode)("br",null,null,-1),w={key:0,class:"invalid-feedback"},y={class:"mb-3"},g={for:"new-locale-domain-development",class:"form-label"},x={key:0,class:"invalid-feedback"},D={class:"form-text mt-0 help-text"},S={class:"col-6"},B={class:"mb-3"},C={for:"new-locale-locale-prefix",class:"form-label"},_={key:0,class:"invalid-feedback"},M=["innerHTML"],L={class:"mb-3"},P={for:"new-locale-path-prefix",class:"form-label"},T={key:0,class:"invalid-feedback"},O=["innerHTML"],H={class:"row"},U={class:"col"},F={class:"mb-3"},W={for:"new-locale-ssl-mode",class:"form-label d-block"},Z={class:"btn btn-outline-success",for:"new-locale-ssl-force-ssl"},R={class:"btn btn-outline-secondary",for:"new-locale-ssl-non-ssl"},z={class:"btn btn-outline-secondary",for:"new-locale-ssl-both"},I={key:0,class:"invalid-feedback"},A={class:"form-text m-0 help-text"},j=(0,a.createElementVNode)("i",{class:"btn-icon fa fa-times"},null,-1),$=(0,a.createElementVNode)("i",{class:"btn-icon fa fa-save"},null,-1),J={__name:"NewLocale",props:["translations","locales","endpoint"],setup(e,{expose:t}){const J=e,q=l(29).Z,{defineProps:G,ref:K,defineExpose:Q,reactive:X,toRaw:Y}=l(311),ee=l(65).Z,te=l(514);let le=null,ae=null,oe=X({list:[]});const ne=K(null),se=X({values:{website:"",code:"",domain:"",domainDevelopment:"",localePrefix:"",pathPrefix:"",sslMode:""},errors:{code:null,domain:null,domainDevelopment:null,localePrefix:null,pathPrefix:null,sslMode:null}}),ie=e=>!!se.errors[e];function re(){for(let e in se.errors)se.errors[e]=null}const ce=()=>{for(let e in J.locales)J.locales[e].code===se.values.code&&(se.values.localePrefix=J.locales[e].path_prefix)},de=()=>{ne.value.showLoader(),te.PageLoader.show(),re(),q.post(J.endpoint,{add_locale_form:Y(se.values)}).then((e=>{e.errors?(te.PageLoader.hide(),ne.value.hideLoader(),function(e){for(let t in e)se.errors[t]=e[t][0]}(e.errors)):document.location.reload()}))};function me(){ne.value.hide()}return t({show:function(e){le=e;for(let e in le.locales)le.locales[e].is_default&&(ae=le.locales[e]);if(!ae)throw new Error(`Unable to find default locale for website ${le.id}`);(e=>{const t=Y(J.locales);oe.list=[];for(let l in t){let a=!1;for(let o in e)if(t[l].code===e[o].code){a=!0;break}a||oe.list.push(t[l])}})(le.locales),re(),se.values.website=le.id,se.values.code="",se.values.domain=ae.domain,se.values.domainDevelopment=ae.domain_development,se.values.localePrefix="",se.values.pathPrefix=ae.path_prefix,se.values.sslMode=ae.ssl_mode,ne.value.show()},hide:me}),(t,l)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)((0,a.unref)(ee),{title:e.translations.addLocale,ref_key:"modalInstance",ref:ne,modificators:"modal-lg modal-dialog-centered"},{body:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",o,[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("fieldset",s,[(0,a.createElementVNode)("label",i,(0,a.toDisplayString)(e.translations.locale),1),(0,a.withDirectives)((0,a.createElementVNode)("select",{id:"new-locale-code",class:(0,a.normalizeClass)({"form-select":1,"is-invalid":ie("code")}),"onUpdate:modelValue":l[0]||(l[0]=e=>se.values.code=e),onChange:ce},[r,((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(oe).list,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("option",{value:e.code},(0,a.toDisplayString)(e.name)+" ["+(0,a.toDisplayString)(e.code)+"]",9,c)))),256))],34),[[a.vModelSelect,se.values.code]]),se.errors.code?((0,a.openBlock)(),(0,a.createElementBlock)("div",d,(0,a.toDisplayString)(se.errors.code),1)):(0,a.createCommentVNode)("v-if",!0)])])]),(0,a.createElementVNode)("div",m,[(0,a.createElementVNode)("div",p,[(0,a.createElementVNode)("h2",u,[(0,a.createElementVNode)("button",v,(0,a.toDisplayString)(e.translations.advancedOptions),1)]),(0,a.createElementVNode)("div",f,[(0,a.createElementVNode)("div",b,[(0,a.createElementVNode)("div",V,[(0,a.createElementVNode)("div",E,[(0,a.createElementVNode)("fieldset",N,[(0,a.createElementVNode)("label",k,(0,a.toDisplayString)(e.translations.domain),1),h,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",id:"new-locale-backend-prefix",class:(0,a.normalizeClass)({"form-control mb-1":1,"is-invalid":ie("domain")}),"onUpdate:modelValue":l[1]||(l[1]=e=>se.values.domain=e)},null,2),[[a.vModelText,se.values.domain]]),se.errors.domain?((0,a.openBlock)(),(0,a.createElementBlock)("div",w,(0,a.toDisplayString)(se.errors.domain),1)):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("fieldset",y,[(0,a.createElementVNode)("label",g,(0,a.toDisplayString)(e.translations.domainDevelopment),1),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",id:"new-locale-domain-development",class:(0,a.normalizeClass)({"form-control mb-1":1,"is-invalid":ie("domainDevelopment")}),"onUpdate:modelValue":l[2]||(l[2]=e=>se.values.domainDevelopment=e)},null,2),[[a.vModelText,se.values.domainDevelopment]]),se.errors.domainDevelopment?((0,a.openBlock)(),(0,a.createElementBlock)("div",x,(0,a.toDisplayString)(se.errors.domainDevelopment),1)):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",D,(0,a.toDisplayString)(e.translations.domainDevelopmentHelp),1)])]),(0,a.createElementVNode)("div",S,[(0,a.createElementVNode)("fieldset",B,[(0,a.createElementVNode)("label",C,(0,a.toDisplayString)(e.translations.localePrefix),1),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",id:"new-locale-locale-prefix",class:(0,a.normalizeClass)({"form-control mb-1":1,"is-invalid":ie("localePrefix")}),"onUpdate:modelValue":l[3]||(l[3]=e=>se.values.localePrefix=e)},null,2),[[a.vModelText,se.values.localePrefix]]),se.errors.localePrefix?((0,a.openBlock)(),(0,a.createElementBlock)("div",_,(0,a.toDisplayString)(se.errors.localePrefix),1)):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",{class:"form-text mt-0 help-text",innerHTML:e.translations.localePrefixHelp},null,8,M)]),(0,a.createElementVNode)("fieldset",L,[(0,a.createElementVNode)("label",P,(0,a.toDisplayString)(e.translations.pathPrefix),1),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",id:"new-locale-path-prefix",class:(0,a.normalizeClass)({"form-control mb-1":1,"is-invalid":ie("pathPrefix")}),"onUpdate:modelValue":l[4]||(l[4]=e=>se.values.pathPrefix=e)},null,2),[[a.vModelText,se.values.pathPrefix]]),se.errors.pathPrefix?((0,a.openBlock)(),(0,a.createElementBlock)("div",T,(0,a.toDisplayString)(se.errors.pathPrefix),1)):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",{class:"form-text mt-0 help-text",innerHTML:e.translations.pathPrefixHelp},null,8,O)])])]),(0,a.createElementVNode)("div",H,[(0,a.createElementVNode)("div",U,[(0,a.createElementVNode)("fieldset",F,[(0,a.createElementVNode)("label",W,(0,a.toDisplayString)(e.translations.sslMode),1),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)({"btn-group mb-1":1,"is-invalid":ie("sslMode")}),role:"group"},[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"radio",class:"btn-check",name:"new-locale-ssl-mode",id:"new-locale-ssl-force-ssl","onUpdate:modelValue":l[5]||(l[5]=e=>se.values.sslMode=e),value:"FORCE_SSL",autocomplete:"off",checked:""},null,512),[[a.vModelRadio,se.values.sslMode]]),(0,a.createElementVNode)("label",Z,(0,a.toDisplayString)(e.translations.forceSSL),1),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"radio",class:"btn-check",name:"new-locale-ssl-mode",id:"new-locale-ssl-non-ssl","onUpdate:modelValue":l[6]||(l[6]=e=>se.values.sslMode=e),value:"FORCE_NON_SSL",autocomplete:"off"},null,512),[[a.vModelRadio,se.values.sslMode]]),(0,a.createElementVNode)("label",R,(0,a.toDisplayString)(e.translations.forceNonSSL),1),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"radio",class:"btn-check",name:"new-locale-ssl-mode",id:"new-locale-ssl-both","onUpdate:modelValue":l[7]||(l[7]=e=>se.values.sslMode=e),value:"ALLOWED_BOTH",autocomplete:"off"},null,512),[[a.vModelRadio,se.values.sslMode]]),(0,a.createElementVNode)("label",z,(0,a.toDisplayString)(e.translations.allowedBothSSL),1)],2),se.errors.sslMode?((0,a.openBlock)(),(0,a.createElementBlock)("div",I,(0,a.toDisplayString)(se.errors.sslMode),1)):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",A,(0,a.toDisplayString)(e.translations.sslModeHelp),1)])])])])])])])])),footer:(0,a.withCtx)((()=>[(0,a.createElementVNode)("button",{class:"btn btn-secondary btn-icon-left",onClick:me},[j,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.translations.cancel),1)]),(0,a.createElementVNode)("button",{class:"btn btn-success btn-icon-left",onClick:de},[$,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.translations.create),1)])])),_:1},8,["title"])]))}}},290:(e,t,l)=>{l.d(t,{Z:()=>ie});var a=l(311);const o={class:"row"},n={class:"col-6"},s={class:"mb-3"},i={for:"new-website-name",class:"form-label"},r={key:0,class:"invalid-feedback"},c={class:"mb-3"},d={for:"new-website-domain",class:"form-label"},m={key:0,class:"invalid-feedback"},p={class:"form-text mt-0 help-text"},u={class:"col-6"},v={class:"mb-3"},f={for:"new-website-locale",class:"form-label"},b=(0,a.createElementVNode)("br",null,null,-1),V={class:"btn-group mb-1",role:"group"},E={class:"btn btn-outline-success",for:"new-website-active"},N={class:"btn btn-outline-secondary",for:"new-website-inactive"},k={key:0,class:"invalid-feedback"},h={key:1,class:"form-text mt-0 help-text"},w={class:"mb-3"},y={for:"new-website-locale",class:"form-label"},g=(0,a.createElementVNode)("option",{value:""},"---",-1),x=["value"],D={key:0,class:"invalid-feedback"},S={class:"form-text m-0 help-text bg-warning py-2 px-3 text-dark"},B={class:"accordion",id:"accordion-new-website"},C={class:"accordion-item"},_={class:"accordion-header"},M={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"},L={id:"collapseOne",class:"accordion-collapse collapse","data-bs-parent":"#accordion-new-website"},P={class:"accordion-body"},T={class:"row"},O={class:"col-6"},H={class:"mb-3"},U={for:"new-website-path-prefix",class:"form-label"},F={key:0,class:"invalid-feedback"},W=["innerHTML"],Z={class:"mb-3"},R={for:"new-website-domain-development",class:"form-label"},z={key:0,class:"invalid-feedback"},I={class:"form-text mt-0 help-text"},A={class:"col-6"},j={class:"mb-3"},$={for:"new-website-backend-prefix",class:"form-label"},J=(0,a.createElementVNode)("br",null,null,-1),q={key:0,class:"invalid-feedback"},G={class:"form-text mt-0 help-text"},K={class:"row"},Q={class:"col"},X={class:"mb-3"},Y={for:"new-website-ssl-mode",class:"form-label d-block"},ee={class:"btn btn-outline-success",for:"new-website-ssl-force-ssl"},te={class:"btn btn-outline-secondary",for:"new-website-ssl-non-ssl"},le={class:"btn btn-outline-secondary",for:"new-website-ssl-both"},ae={key:0,class:"invalid-feedback"},oe={class:"form-text m-0 help-text"},ne=(0,a.createElementVNode)("i",{class:"btn-icon fa fa-times"},null,-1),se=(0,a.createElementVNode)("i",{class:"btn-icon fa fa-save"},null,-1),ie={__name:"NewWebsite",props:["translations","locales","endpoint"],setup(e,{expose:t}){const ie=e,re=l(29).Z,{defineProps:ce,ref:de,defineExpose:me,reactive:pe,toRaw:ue}=l(311),ve=l(65).Z,fe=de(null),be=de(null),Ve="localhost",Ee="/administrator",Ne="ALLOWED_BOTH",ke=pe({values:{locale:"",activity:"1",name:"",domain:"",pathPrefix:"",domainDevelopment:Ve,backendPrefix:Ee,sslMode:Ne},errors:{locale:null,activity:null,name:null,domain:null,pathPrefix:null,domainDevelopment:null,backendPrefix:null,sslMode:null}}),he=e=>!!ke.errors[e];function we(){for(let e in ke.errors)ke.errors[e]=null}const ye=()=>{be.value.showLoader(),we(),re.post(ie.endpoint,{new_website_form:ue(ke.values)}).then((e=>{e.errors?(be.value.hideLoader(),function(e){for(let t in e)ke.errors[t]=e[t][0]}(e.errors)):document.location.reload()}))};function ge(){be.value.hide()}return t({show:function(){we(),ke.values.locale="",ke.values.activity="1",ke.values.name="",ke.values.domain="",ke.values.pathPrefix="",ke.values.domainDevelopment=Ve,ke.values.backendPrefix=Ee,ke.values.sslMode=Ne,be.value.show(),setTimeout((()=>fe.value.focus()),500)},hide:ge}),(t,l)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)((0,a.unref)(ve),{title:e.translations.createWebsite,ref_key:"modalInstance",ref:be,modificators:"modal-lg modal-dialog-centered"},{body:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",o,[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("fieldset",s,[(0,a.createElementVNode)("label",i,(0,a.toDisplayString)(e.translations.name),1),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",id:"new-website-name",class:(0,a.normalizeClass)({"form-control":1,"is-invalid":he("name")}),ref_key:"newWebsiteName",ref:fe,"onUpdate:modelValue":l[0]||(l[0]=e=>ke.values.name=e)},null,2),[[a.vModelText,ke.values.name]]),ke.errors.name?((0,a.openBlock)(),(0,a.createElementBlock)("div",r,(0,a.toDisplayString)(ke.errors.name),1)):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("fieldset",c,[(0,a.createElementVNode)("label",d,(0,a.toDisplayString)(e.translations.domain),1),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",id:"new-website-domain",class:(0,a.normalizeClass)({"form-control mb-1":1,"is-invalid":he("domain")}),"onUpdate:modelValue":l[1]||(l[1]=e=>ke.values.domain=e)},null,2),[[a.vModelText,ke.values.domain]]),ke.errors.domain?((0,a.openBlock)(),(0,a.createElementBlock)("div",m,(0,a.toDisplayString)(ke.errors.domain),1)):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",p,(0,a.toDisplayString)(e.translations.domainHelp),1)])]),(0,a.createElementVNode)("div",u,[(0,a.createElementVNode)("fieldset",v,[(0,a.createElementVNode)("label",f,(0,a.toDisplayString)(e.translations.activity),1),b,(0,a.createElementVNode)("div",V,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"radio",class:"btn-check",name:"new-website-activeness",id:"new-website-active","onUpdate:modelValue":l[2]||(l[2]=e=>ke.values.activity=e),value:"1",autocomplete:"off",checked:""},null,512),[[a.vModelRadio,ke.values.activity]]),(0,a.createElementVNode)("label",E,(0,a.toDisplayString)(e.translations.active),1),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"radio",class:"btn-check",name:"new-website-activeness",id:"new-website-inactive","onUpdate:modelValue":l[3]||(l[3]=e=>ke.values.activity=e),value:"0",autocomplete:"off"},null,512),[[a.vModelRadio,ke.values.activity]]),(0,a.createElementVNode)("label",N,(0,a.toDisplayString)(e.translations.inactive),1)]),ke.errors.activity?((0,a.openBlock)(),(0,a.createElementBlock)("div",k,(0,a.toDisplayString)(ke.errors.activity),1)):(0,a.createCommentVNode)("v-if",!0),"0"===ke.values.activity?((0,a.openBlock)(),(0,a.createElementBlock)("div",h,(0,a.toDisplayString)(e.translations.websiteInactiveHint),1)):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("fieldset",w,[(0,a.createElementVNode)("label",y,(0,a.toDisplayString)(e.translations.defaultLocale),1),(0,a.withDirectives)((0,a.createElementVNode)("select",{id:"new-website-locale",class:(0,a.normalizeClass)({"form-select":1,"is-invalid":he("locale")}),"onUpdate:modelValue":l[4]||(l[4]=e=>ke.values.locale=e)},[g,((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.locales,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("option",{value:e.code},(0,a.toDisplayString)(e.name)+" ["+(0,a.toDisplayString)(e.code)+"]",9,x)))),256))],2),[[a.vModelSelect,ke.values.locale]]),ke.errors.locale?((0,a.openBlock)(),(0,a.createElementBlock)("div",D,(0,a.toDisplayString)(ke.errors.locale),1)):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",S,(0,a.toDisplayString)(e.translations.defaultLocaleCannotBeChangedAfterCreating),1)])])]),(0,a.createElementVNode)("div",B,[(0,a.createElementVNode)("div",C,[(0,a.createElementVNode)("h2",_,[(0,a.createElementVNode)("button",M,(0,a.toDisplayString)(e.translations.advancedOptions),1)]),(0,a.createElementVNode)("div",L,[(0,a.createElementVNode)("div",P,[(0,a.createElementVNode)("div",T,[(0,a.createElementVNode)("div",O,[(0,a.createElementVNode)("fieldset",H,[(0,a.createElementVNode)("label",U,(0,a.toDisplayString)(e.translations.pathPrefix),1),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",id:"new-website-path-prefix",class:(0,a.normalizeClass)({"form-control mb-1":1,"is-invalid":he("pathPrefix")}),"onUpdate:modelValue":l[5]||(l[5]=e=>ke.values.pathPrefix=e)},null,2),[[a.vModelText,ke.values.pathPrefix]]),ke.errors.pathPrefix?((0,a.openBlock)(),(0,a.createElementBlock)("div",F,(0,a.toDisplayString)(ke.errors.pathPrefix),1)):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",{class:"form-text mt-0 help-text",innerHTML:e.translations.pathPrefixHelp},null,8,W)]),(0,a.createElementVNode)("fieldset",Z,[(0,a.createElementVNode)("label",R,(0,a.toDisplayString)(e.translations.domainDevelopment),1),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",id:"new-website-domain-development",class:(0,a.normalizeClass)({"form-control mb-1":1,"is-invalid":he("domainDevelopment")}),"onUpdate:modelValue":l[6]||(l[6]=e=>ke.values.domainDevelopment=e)},null,2),[[a.vModelText,ke.values.domainDevelopment]]),ke.errors.domainDevelopment?((0,a.openBlock)(),(0,a.createElementBlock)("div",z,(0,a.toDisplayString)(ke.errors.domainDevelopment),1)):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",I,(0,a.toDisplayString)(e.translations.domainDevelopmentHelp),1)])]),(0,a.createElementVNode)("div",A,[(0,a.createElementVNode)("fieldset",j,[(0,a.createElementVNode)("label",$,(0,a.toDisplayString)(e.translations.backendPrefix),1),J,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",id:"new-website-backend-prefix",class:(0,a.normalizeClass)({"form-control mb-1":1,"is-invalid":he("backendPrefix")}),"onUpdate:modelValue":l[7]||(l[7]=e=>ke.values.backendPrefix=e)},null,2),[[a.vModelText,ke.values.backendPrefix]]),ke.errors.backendPrefix?((0,a.openBlock)(),(0,a.createElementBlock)("div",q,(0,a.toDisplayString)(ke.errors.backendPrefix),1)):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",G,(0,a.toDisplayString)(e.translations.backendPrefixHelp),1)])])]),(0,a.createElementVNode)("div",K,[(0,a.createElementVNode)("div",Q,[(0,a.createElementVNode)("fieldset",X,[(0,a.createElementVNode)("label",Y,(0,a.toDisplayString)(e.translations.sslMode),1),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)({"btn-group mb-1":1,"is-invalid":he("sslMode")}),role:"group"},[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"radio",class:"btn-check",name:"new-website-ssl-mode",id:"new-website-ssl-force-ssl","onUpdate:modelValue":l[8]||(l[8]=e=>ke.values.sslMode=e),value:"FORCE_SSL",autocomplete:"off",checked:""},null,512),[[a.vModelRadio,ke.values.sslMode]]),(0,a.createElementVNode)("label",ee,(0,a.toDisplayString)(e.translations.forceSSL),1),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"radio",class:"btn-check",name:"new-website-ssl-mode",id:"new-website-ssl-non-ssl","onUpdate:modelValue":l[9]||(l[9]=e=>ke.values.sslMode=e),value:"FORCE_NON_SSL",autocomplete:"off"},null,512),[[a.vModelRadio,ke.values.sslMode]]),(0,a.createElementVNode)("label",te,(0,a.toDisplayString)(e.translations.forceNonSSL),1),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"radio",class:"btn-check",name:"new-website-ssl-mode",id:"new-website-ssl-both","onUpdate:modelValue":l[10]||(l[10]=e=>ke.values.sslMode=e),value:"ALLOWED_BOTH",autocomplete:"off"},null,512),[[a.vModelRadio,ke.values.sslMode]]),(0,a.createElementVNode)("label",le,(0,a.toDisplayString)(e.translations.allowedBothSSL),1)],2),ke.errors.sslMode?((0,a.openBlock)(),(0,a.createElementBlock)("div",ae,(0,a.toDisplayString)(ke.errors.sslMode),1)):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",oe,(0,a.toDisplayString)(e.translations.sslModeHelp),1)])])])])])])])])),footer:(0,a.withCtx)((()=>[(0,a.createElementVNode)("button",{class:"btn btn-secondary btn-icon-left",onClick:ge},[ne,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.translations.cancel),1)]),(0,a.createElementVNode)("button",{class:"btn btn-success btn-icon-left",onClick:ye},[se,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.translations.create),1)])])),_:1},8,["title"])]))}}},29:(e,t,l)=>{l.d(t,{Z:()=>a});const a={post:async function(e,t={}){return t._token=e.csrfToken,(await fetch(e.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}}},514:e=>{e.exports=Tulia},311:e=>{e.exports=Vue},685:e=>{e.exports=bootstrap}},t={};function l(a){var o=t[a];if(void 0!==o)return o.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,l),n.exports}l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var a={};(()=>{l.d(a,{default:()=>o});const e=l(151).Z,t=l(311),o=class{vue;constructor(l,a){this.vue=t.createApp(e,a),this.vue.mount(l)}}})(),TuliaWebsiteBuilder=a.default})();
//# sourceMappingURL=websites-builder.js.map